import{x as y,y as at,C as ze,a1 as Mt,H as lt,G as rt,a2 as Tt,l as q,j as It,v as me,k as B,m as ye,d as Oe,a3 as Bt,P as kt,a4 as Ie,K as O,a5 as At,D as Lt,L as ge,M as be,o as f,c as T,S as b,F as Be,O as d,u as l,I as _,a as S,f as w,g as M,R as G,J as ke,b as F,w as ae,t as K,U as Le,p as $e,a6 as it,V as $t,a7 as Rt,h as ne,a8 as pe,a9 as Ae,T as Nt,X as he,Z as ut,q as Fe}from"./index.d45acc52.js";import{i as Ce,c as zt,a as Ot,b as Ge,t as Vt,d as re,h as qe,g as Ze,e as Dt,r as xt,j as Je,k as dt,l as Pt,m as le,n as Qe,o as Ht,p as Ut,q as Yt,s as ct,v as Kt,V as Wt,w as Xt,x as jt,y as Ft,z as Gt,A as _e,B as oe,C as qt,_ as ft,D as Zt,F as Jt,G as Qt,H as _t,T as en,I as tn,J as nn,K as et,L as tt,M as on}from"./notebook.dc79aaf6.js";const sn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',an=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,nt=e=>Array.from(e.querySelectorAll(sn)).filter(n=>ln(n)&&an(n)),ln=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}};let ve;const rn=e=>{var n;if(!Ce)return 0;if(ve!==void 0)return ve;const a=document.createElement("div");a.className=`${e}-scrollbar__wrap`,a.style.visibility="hidden",a.style.width="100px",a.style.position="absolute",a.style.top="-9999px",document.body.appendChild(a);const s=a.offsetWidth;a.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",a.appendChild(r);const i=r.offsetWidth;return(n=a.parentNode)==null||n.removeChild(a),ve=s-i,ve},Re="update:modelValue",un=e=>["",...zt].includes(e);var Ee=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Ee||{});const dn=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),cn=["class","style"],fn=/^on[A-Z]/,pn=(e={})=>{const{excludeListeners:n=!1,excludeKeys:a}=e,s=y(()=>((a==null?void 0:a.value)||[]).concat(cn)),r=at();return r?y(()=>{var i;return Ot(Object.entries((i=r.proxy)==null?void 0:i.$attrs).filter(([o])=>!s.value.includes(o)&&!(n&&fn.test(o))))}):y(()=>({}))},vn=(e,n,a)=>{let s={offsetX:0,offsetY:0};const r=v=>{const c=v.clientX,E=v.clientY,{offsetX:C,offsetY:m}=s,g=e.value.getBoundingClientRect(),k=g.left,I=g.top,u=g.width,P=g.height,H=document.documentElement.clientWidth,V=document.documentElement.clientHeight,U=-k+C,A=-I+m,D=H-k-u+C,W=V-I-P+m,Z=$=>{const J=Math.min(Math.max(C+$.clientX-c,U),D),R=Math.min(Math.max(m+$.clientY-E,A),W);s={offsetX:J,offsetY:R},e.value.style.transform=`translate(${Ge(J)}, ${Ge(R)})`},L=()=>{document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",L)},i=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",r)},o=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",r)};ze(()=>{Mt(()=>{a.value?i():o()})}),lt(()=>{o()})},mn=e=>{rt(e)||Vt("[useLockscreen]","You need to pass a ref param to this function");const n=re("popup"),a=Tt(()=>n.bm("parent","hidden"));if(!Ce||qe(document.body,a.value))return;let s=0,r=!1,i="0",o=0;const v=()=>{xt(document.body,a.value),r&&(document.body.style.paddingRight=i)};q(e,c=>{if(!c){v();return}r=!qe(document.body,a.value),r&&(i=document.body.style.paddingRight,o=Number.parseInt(Ze(document.body,"paddingRight"),10)),s=rn(n.namespace.value);const E=document.documentElement.clientHeight<document.body.scrollHeight,C=Ze(document.body,"overflowY");s>0&&(E||C==="scroll")&&r&&(document.body.style.paddingRight=`${o+s}px`),Dt(document.body,a.value)}),It(()=>v())},yn=(e,n)=>{let a;q(()=>e.value,s=>{var r,i;s?(a=document.activeElement,rt(n)&&((i=(r=n.value).focus)==null||i.call(r))):a.focus()})},pt=e=>{if(!e)return{onClick:me,onMousedown:me,onMouseup:me};let n=!1,a=!1;return{onClick:o=>{n&&a&&e(o),n=a=!1},onMousedown:o=>{n=o.target===o.currentTarget},onMouseup:o=>{a=o.target===o.currentTarget}}};function gn(e){const n=B();function a(){if(e.value==null)return;const{selectionStart:r,selectionEnd:i,value:o}=e.value;if(r==null||i==null)return;const v=o.slice(0,Math.max(0,r)),c=o.slice(Math.max(0,i));n.value={selectionStart:r,selectionEnd:i,value:o,beforeTxt:v,afterTxt:c}}function s(){if(e.value==null||n.value==null)return;const{value:r}=e.value,{beforeTxt:i,afterTxt:o,selectionStart:v}=n.value;if(i==null||o==null||v==null)return;let c=r.length;if(r.endsWith(o))c=r.length-o.length;else if(r.startsWith(i))c=i.length;else{const E=i[v-1],C=r.indexOf(E,v-1);C!==-1&&(c=C+1)}e.value.setSelectionRange(c,c)}return[a,s]}let z;const bn=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,hn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function En(e){const n=window.getComputedStyle(e),a=n.getPropertyValue("box-sizing"),s=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),r=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:hn.map(o=>`${o}:${n.getPropertyValue(o)}`).join(";"),paddingSize:s,borderSize:r,boxSizing:a}}function ot(e,n=1,a){var s;z||(z=document.createElement("textarea"),document.body.appendChild(z));const{paddingSize:r,borderSize:i,boxSizing:o,contextStyle:v}=En(e);z.setAttribute("style",`${v};${bn}`),z.value=e.value||e.placeholder||"";let c=z.scrollHeight;const E={};o==="border-box"?c=c+i:o==="content-box"&&(c=c-r),z.value="";const C=z.scrollHeight-r;if(Je(n)){let m=C*n;o==="border-box"&&(m=m+r+i),c=Math.max(m,c),E.minHeight=`${m}px`}if(Je(a)){let m=C*a;o==="border-box"&&(m=m+r+i),c=Math.min(m,c)}return E.height=`${c}px`,(s=z.parentNode)==null||s.removeChild(z),z=void 0,E}const Cn=dt({id:{type:String,default:void 0},size:Pt,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Qe,default:""},prefixIcon:{type:Qe,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>Ht({})}}),wn={[Re]:e=>ye(e),input:e=>ye(e),change:e=>ye(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Sn=["role"],Mn=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],Tn=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],In={name:"ElInput",inheritAttrs:!1},Bn=Oe({...In,props:Cn,emits:wn,setup(e,{expose:n,emit:a}){const s=e,r={suffix:"append",prefix:"prepend"},i=at(),o=Bt(),v=kt(),c=y(()=>{const t={};return s.containerRole==="combobox"&&(t["aria-haspopup"]=o["aria-haspopup"],t["aria-owns"]=o["aria-owns"],t["aria-expanded"]=o["aria-expanded"]),t}),E=pn({excludeKeys:y(()=>Object.keys(c.value))}),{form:C,formItem:m}=Ut(),{inputId:g}=Yt(s,{formItemContext:m}),k=ct(),I=Kt(),u=re("input"),P=re("textarea"),H=Ie(),V=Ie(),U=B(!1),A=B(!1),D=B(!1),W=B(!1),Z=B(),L=Ie(s.inputStyle),$=y(()=>H.value||V.value),J=y(()=>{var t;return(t=C==null?void 0:C.statusIcon)!=null?t:!1}),R=y(()=>(m==null?void 0:m.validateState)||""),ue=y(()=>R.value&&Wt[R.value]),h=y(()=>W.value?Xt:jt),x=y(()=>[o.style,s.inputStyle]),Y=y(()=>[s.inputStyle,L.value,{resize:s.resize}]),N=y(()=>Ft(s.modelValue)?"":String(s.modelValue)),de=y(()=>s.clearable&&!I.value&&!s.readonly&&!!N.value&&(U.value||A.value)),we=y(()=>s.showPassword&&!I.value&&!s.readonly&&!!N.value&&(!!N.value||U.value)),te=y(()=>s.showWordLimit&&!!E.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!I.value&&!s.readonly&&!s.showPassword),Se=y(()=>Array.from(N.value).length),vt=y(()=>!!te.value&&Se.value>Number(E.value.maxlength)),mt=y(()=>!!v.suffix||!!s.suffixIcon||de.value||s.showPassword||te.value||!!R.value&&J.value),[yt,gt]=gn(H);Gt(V,t=>{if(!te.value||s.resize!=="both")return;const p=t[0],{width:X}=p.contentRect;Z.value={right:`calc(100% - ${X+15+6}px)`}});const ce=()=>{const{type:t,autosize:p}=s;if(!(!Ce||t!=="textarea"))if(p){const X=$e(p)?p.minRows:void 0,Q=$e(p)?p.maxRows:void 0;L.value={...ot(V.value,X,Q)}}else L.value={minHeight:ot(V.value).minHeight}},fe=()=>{const t=$.value;!t||t.value===N.value||(t.value=N.value)},Ve=t=>{const{el:p}=i.vnode;if(!p)return;const Q=Array.from(p.querySelectorAll(`.${u.e(t)}`)).find(St=>St.parentNode===p);if(!Q)return;const je=r[t];v[je]?Q.style.transform=`translateX(${t==="suffix"?"-":""}${p.querySelector(`.${u.be("group",je)}`).offsetWidth}px)`:Q.removeAttribute("style")},Me=()=>{Ve("prefix"),Ve("suffix")},Te=async t=>{yt();let{value:p}=t.target;s.formatter&&(p=s.parser?s.parser(p):p,p=s.formatter(p)),!D.value&&p!==N.value&&(a(Re,p),a("input",p),await O(),fe(),gt())},De=t=>{a("change",t.target.value)},xe=t=>{a("compositionstart",t),D.value=!0},Pe=t=>{var p;a("compositionupdate",t);const X=(p=t.target)==null?void 0:p.value,Q=X[X.length-1]||"";D.value=!dn(Q)},He=t=>{a("compositionend",t),D.value&&(D.value=!1,Te(t))},bt=()=>{W.value=!W.value,Ue()},Ue=async()=>{var t;await O(),(t=$.value)==null||t.focus()},ht=()=>{var t;return(t=$.value)==null?void 0:t.blur()},Ye=t=>{U.value=!0,a("focus",t)},Ke=t=>{var p;U.value=!1,a("blur",t),s.validateEvent&&((p=m==null?void 0:m.validate)==null||p.call(m,"blur").catch(X=>_e()))},Et=t=>{A.value=!1,a("mouseleave",t)},Ct=t=>{A.value=!0,a("mouseenter",t)},We=t=>{a("keydown",t)},wt=()=>{var t;(t=$.value)==null||t.select()},Xe=()=>{a(Re,""),a("change",""),a("clear"),a("input","")};return q(()=>s.modelValue,()=>{var t;O(()=>ce()),s.validateEvent&&((t=m==null?void 0:m.validate)==null||t.call(m,"change").catch(p=>_e()))}),q(N,()=>fe()),q(()=>s.type,async()=>{await O(),fe(),ce(),Me()}),ze(async()=>{!s.formatter&&s.parser,fe(),Me(),await O(),ce()}),At(async()=>{await O(),Me()}),n({input:H,textarea:V,ref:$,textareaStyle:Y,autosize:Lt(s,"autosize"),focus:Ue,blur:ht,select:wt,clear:Xe,resizeTextarea:ce}),(t,p)=>ge((f(),T("div",ke(l(c),{class:[t.type==="textarea"?l(P).b():l(u).b(),l(u).m(l(k)),l(u).is("disabled",l(I)),l(u).is("exceed",l(vt)),{[l(u).b("group")]:t.$slots.prepend||t.$slots.append,[l(u).bm("group","append")]:t.$slots.append,[l(u).bm("group","prepend")]:t.$slots.prepend,[l(u).m("prefix")]:t.$slots.prefix||t.prefixIcon,[l(u).m("suffix")]:t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword,[l(u).bm("suffix","password-clear")]:l(de)&&l(we)},t.$attrs.class],style:l(x),role:t.containerRole,onMouseenter:Ct,onMouseleave:Et}),[b(" input "),t.type!=="textarea"?(f(),T(Be,{key:0},[b(" prepend slot "),t.$slots.prepend?(f(),T("div",{key:0,class:d(l(u).be("group","prepend"))},[_(t.$slots,"prepend")],2)):b("v-if",!0),S("div",{class:d([l(u).e("wrapper"),l(u).is("focus",U.value)])},[b(" prefix slot "),t.$slots.prefix||t.prefixIcon?(f(),T("span",{key:0,class:d(l(u).e("prefix"))},[S("span",{class:d(l(u).e("prefix-inner"))},[_(t.$slots,"prefix"),t.prefixIcon?(f(),w(l(oe),{key:0,class:d(l(u).e("icon"))},{default:M(()=>[(f(),w(G(t.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),S("input",ke({id:l(g),ref_key:"input",ref:H,class:l(u).e("inner")},l(E),{type:t.showPassword?W.value?"text":"password":t.type,disabled:l(I),formatter:t.formatter,parser:t.parser,readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.label,placeholder:t.placeholder,style:t.inputStyle,onCompositionstart:xe,onCompositionupdate:Pe,onCompositionend:He,onInput:Te,onFocus:Ye,onBlur:Ke,onChange:De,onKeydown:We}),null,16,Mn),b(" suffix slot "),l(mt)?(f(),T("span",{key:1,class:d(l(u).e("suffix"))},[S("span",{class:d(l(u).e("suffix-inner"))},[!l(de)||!l(we)||!l(te)?(f(),T(Be,{key:0},[_(t.$slots,"suffix"),t.suffixIcon?(f(),w(l(oe),{key:0,class:d(l(u).e("icon"))},{default:M(()=>[(f(),w(G(t.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),l(de)?(f(),w(l(oe),{key:1,class:d([l(u).e("icon"),l(u).e("clear")]),onMousedown:ae(l(me),["prevent"]),onClick:Xe},{default:M(()=>[F(l(qt))]),_:1},8,["class","onMousedown"])):b("v-if",!0),l(we)?(f(),w(l(oe),{key:2,class:d([l(u).e("icon"),l(u).e("password")]),onClick:bt},{default:M(()=>[(f(),w(G(l(h))))]),_:1},8,["class"])):b("v-if",!0),l(te)?(f(),T("span",{key:3,class:d(l(u).e("count"))},[S("span",{class:d(l(u).e("count-inner"))},K(l(Se))+" / "+K(l(E).maxlength),3)],2)):b("v-if",!0),l(R)&&l(ue)&&l(J)?(f(),w(l(oe),{key:4,class:d([l(u).e("icon"),l(u).e("validateIcon"),l(u).is("loading",l(R)==="validating")])},{default:M(()=>[(f(),w(G(l(ue))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),t.$slots.append?(f(),T("div",{key:1,class:d(l(u).be("group","append"))},[_(t.$slots,"append")],2)):b("v-if",!0)],64)):(f(),T(Be,{key:1},[b(" textarea "),S("textarea",ke({id:l(g),ref_key:"textarea",ref:V,class:l(P).e("inner")},l(E),{tabindex:t.tabindex,disabled:l(I),readonly:t.readonly,autocomplete:t.autocomplete,style:l(Y),"aria-label":t.label,placeholder:t.placeholder,onCompositionstart:xe,onCompositionupdate:Pe,onCompositionend:He,onInput:Te,onFocus:Ye,onBlur:Ke,onChange:De,onKeydown:We}),null,16,Tn),l(te)?(f(),T("span",{key:0,style:Le(Z.value),class:d(l(u).e("count"))},K(l(Se))+" / "+K(l(E).maxlength),7)):b("v-if",!0)],64))],16,Sn)),[[be,t.type!=="hidden"]])}});var kn=ft(Bn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const An=Zt(kn),Ne="_trap-focus-children",ee=[],st=e=>{if(ee.length===0)return;const n=ee[ee.length-1][Ne];if(n.length>0&&e.code===Jt.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const a=e.shiftKey,s=e.target===n[0],r=e.target===n[n.length-1];s&&a&&(e.preventDefault(),n[n.length-1].focus()),r&&!a&&(e.preventDefault(),n[0].focus())}},Ln={beforeMount(e){e[Ne]=nt(e),ee.push(e),ee.length<=1&&document.addEventListener("keydown",st)},updated(e){O(()=>{e[Ne]=nt(e)})},unmounted(){ee.shift(),ee.length===0&&document.removeEventListener("keydown",st)}},$n=dt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:le([String,Array,Object])},zIndex:{type:le([String,Number])}}),Rn={click:e=>e instanceof MouseEvent};var Nn=Oe({name:"ElOverlay",props:$n,emits:Rn,setup(e,{slots:n,emit:a}){const s=re("overlay"),r=c=>{a("click",c)},{onClick:i,onMousedown:o,onMouseup:v}=pt(e.customMaskEvent?void 0:r);return()=>e.mask?F("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:o,onMouseup:v},[_(n,"default")],Ee.STYLE|Ee.CLASS|Ee.PROPS,["onClick","onMouseup","onMousedown"]):it("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[_(n,"default")])}});const zn=Nn,On=Oe({name:"ElMessageBox",directives:{TrapFocus:Ln},components:{ElButton:Qt,ElFocusTrap:_t,ElInput:An,ElOverlay:zn,ElIcon:oe,...en},inheritAttrs:!1,props:{buttonSize:{type:String,validator:un},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t:a}=tn(),s=re("message-box"),r=B(!1),{nextZIndex:i}=nn(),o=$t({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),v=y(()=>{const h=o.type;return{[s.bm("icon",h)]:h&&et[h]}}),c=tt(),E=tt(),C=ct(y(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),m=y(()=>o.icon||et[o.type]||""),g=y(()=>!!o.message),k=B(),I=B(),u=B(),P=B(),H=B(),V=y(()=>o.confirmButtonClass);q(()=>o.inputValue,async h=>{await O(),e.boxType==="prompt"&&h!==null&&$()},{immediate:!0}),q(()=>r.value,h=>{var x,Y;h&&(e.boxType!=="prompt"&&(o.autofocus?u.value=(Y=(x=H.value)==null?void 0:x.$el)!=null?Y:k.value:u.value=k.value),o.zIndex=i()),e.boxType==="prompt"&&(h?O().then(()=>{var N;P.value&&P.value.$el&&(o.autofocus?u.value=(N=J())!=null?N:k.value:u.value=k.value)}):(o.editorErrorMessage="",o.validateError=!1))});const U=y(()=>e.draggable);vn(k,I,U),ze(async()=>{await O(),e.closeOnHashChange&&window.addEventListener("hashchange",A)}),lt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",A)});function A(){!r.value||(r.value=!1,O(()=>{o.action&&n("action",o.action)}))}const D=()=>{e.closeOnClickModal&&L(o.distinguishCancelAndClose?"close":"cancel")},W=pt(D),Z=h=>{if(o.inputType!=="textarea")return h.preventDefault(),L("confirm")},L=h=>{var x;e.boxType==="prompt"&&h==="confirm"&&!$()||(o.action=h,o.beforeClose?(x=o.beforeClose)==null||x.call(o,h,o,A):A())},$=()=>{if(e.boxType==="prompt"){const h=o.inputPattern;if(h&&!h.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||a("el.messagebox.error"),o.validateError=!0,!1;const x=o.inputValidator;if(typeof x=="function"){const Y=x(o.inputValue);if(Y===!1)return o.editorErrorMessage=o.inputErrorMessage||a("el.messagebox.error"),o.validateError=!0,!1;if(typeof Y=="string")return o.editorErrorMessage=Y,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},J=()=>{const h=P.value.$refs;return h.input||h.textarea},R=()=>{L("close")},ue=()=>{e.closeOnPressEscape&&R()};return e.lockScroll&&mn(r),yn(r),{...Rt(o),ns:s,overlayEvent:W,visible:r,hasMessage:g,typeClass:v,contentId:c,inputId:E,btnSize:C,iconComponent:m,confirmButtonClasses:V,rootRef:k,focusStartRef:u,headerRef:I,inputRef:P,confirmRef:H,doClose:A,handleClose:R,onCloseRequested:ue,handleWrapperClick:D,handleInputEnter:Z,handleAction:L,t:a}}}),Vn=["aria-label","aria-describedby"],Dn=["aria-label"],xn=["id"];function Pn(e,n,a,s,r,i){const o=ne("el-icon"),v=ne("close"),c=ne("el-input"),E=ne("el-button"),C=ne("el-focus-trap"),m=ne("el-overlay");return f(),w(Nt,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=g=>e.$emit("vanish")),persisted:""},{default:M(()=>[ge(F(m,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:M(()=>[S("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:d(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...g)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...g)),onMousedown:n[9]||(n[9]=(...g)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...g)),onMouseup:n[10]||(n[10]=(...g)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...g))},[F(C,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:M(()=>[S("div",{ref:"rootRef",class:d([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Le(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=ae(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(f(),T("div",{key:0,ref:"headerRef",class:d(e.ns.e("header"))},[S("div",{class:d(e.ns.e("title"))},[e.iconComponent&&e.center?(f(),w(o,{key:0,class:d([e.ns.e("status"),e.typeClass])},{default:M(()=>[(f(),w(G(e.iconComponent)))]),_:1},8,["class"])):b("v-if",!0),S("span",null,K(e.title),1)],2),e.showClose?(f(),T("button",{key:0,type:"button",class:d(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=pe(ae(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[F(o,{class:d(e.ns.e("close"))},{default:M(()=>[F(v)]),_:1},8,["class"])],42,Dn)):b("v-if",!0)],2)):b("v-if",!0),S("div",{id:e.contentId,class:d(e.ns.e("content"))},[S("div",{class:d(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(f(),w(o,{key:0,class:d([e.ns.e("status"),e.typeClass])},{default:M(()=>[(f(),w(G(e.iconComponent)))]),_:1},8,["class"])):b("v-if",!0),e.hasMessage?(f(),T("div",{key:1,class:d(e.ns.e("message"))},[_(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(f(),w(G(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(f(),w(G(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:M(()=>[Ae(K(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):b("v-if",!0)],2),ge(S("div",{class:d(e.ns.e("input"))},[F(c,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=g=>e.inputValue=g),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:d({invalid:e.validateError}),onKeydown:pe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),S("div",{class:d(e.ns.e("errormsg")),style:Le({visibility:e.editorErrorMessage?"visible":"hidden"})},K(e.editorErrorMessage),7)],2),[[be,e.showInput]])],10,xn),S("div",{class:d(e.ns.e("btns"))},[e.showCancelButton?(f(),w(E,{key:0,loading:e.cancelButtonLoading,class:d([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=g=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=pe(ae(g=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:M(()=>[Ae(K(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):b("v-if",!0),ge(F(E,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:d([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=g=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=pe(ae(g=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:M(()=>[Ae(K(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[be,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Vn)]),_:3},8,["z-index","overlay-class","mask"]),[[be,e.visible]])]),_:3})}var Hn=ft(On,[["render",Pn],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const ie=new Map,Un=(e,n,a=null)=>{const s=it(Hn,e);return s.appContext=a,ut(s,n),document.body.appendChild(n.firstElementChild),s.component},Yn=()=>document.createElement("div"),Kn=(e,n)=>{const a=Yn();e.onVanish=()=>{ut(null,a),ie.delete(r)},e.onAction=i=>{const o=ie.get(r);let v;e.showInput?v={value:r.inputValue,action:i}:v=i,e.callback?e.callback(v,s.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(v)};const s=Un(e,a,n),r=s.proxy;for(const i in e)Fe(e,i)&&!Fe(r.$props,i)&&(r[i]=e[i]);return q(()=>r.message,(i,o)=>{he(i)?s.slots.default=()=>[i]:he(o)&&!he(i)&&delete s.slots.default},{immediate:!0}),r.visible=!0,r};function se(e,n=null){if(!Ce)return Promise.reject();let a;return ye(e)||he(e)?e={message:e}:a=e.callback,new Promise((s,r)=>{const i=Kn(e,n!=null?n:se._context);ie.set(i,{options:e,callback:a,resolve:s,reject:r})})}const Wn=["alert","confirm","prompt"],Xn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Wn.forEach(e=>{se[e]=jn(e)});function jn(e){return(n,a,s,r)=>{let i;return $e(a)?(s=a,i=""):on(a)?i="":i=a,se(Object.assign({title:i,message:n,type:"",...Xn[e]},s,{boxType:e}),r)}}se.close=()=>{ie.forEach((e,n)=>{n.doClose()}),ie.clear()};se._context=null;const j=se;j.install=e=>{j._context=e._context,e.config.globalProperties.$msgbox=j,e.config.globalProperties.$messageBox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt};const qn=j;export{qn as E};
