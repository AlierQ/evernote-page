import{d as k,A as C,c as B,a as u,w as i,b as d,u as n,t as s,F as g,r as A,e as v,o as r,f as N,g as b,N as x,h as y}from"./index.d45acc52.js";import{u as T,E as a,f as M}from"./notebook.dc79aaf6.js";import{E as l}from"./el-overlay.cae8fbe4.js";import{P as $}from"./Plus.46a78c6c.js";const L={id:"notebook-list"},P=["onClick"],V=u("span",null,"\u65B0\u5EFA\u7B14\u8BB0\u672C",-1),w={class:"notebook-list"},j=["onClick"],z=["onClick"],U=k({__name:"NotebookList",setup(S){const e=T();e.getNotebooks();const _=M,F=v();C.get_login_state().then(t=>{t.isLogin||F.push("/login")}).catch(t=>{a({type:"error",message:t.response.data.msg})});const m=t=>{l.prompt("\u8BF7\u8F93\u5165\u65B0\u7684\u540D\u79F0","\u4FEE\u6539\u540D\u79F0",{confirmButtonText:"\u4FEE\u6539",cancelButtonText:"\u53D6\u6D88",inputPattern:/^.{1,30}$/,inputErrorMessage:"\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u4E14\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26\uFF01",inputValue:t.title}).then(({value:c})=>{t.title=c,e.updateNotebook(t)}).catch(()=>{a({type:"info",message:"\u53D6\u6D88\u4FEE\u6539"})})},E=t=>{l.confirm("\u786E\u8BA4\u8981\u5220\u9664\u8BE5\u7B14\u8BB0\u672C\u5417?","\u5220\u9664\u7B14\u8BB0\u672C",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",confirmButtonClass:"danger",type:"error"}).then(()=>{e.deleteNotebook(t)}).catch(()=>{a({type:"info",message:"\u53D6\u6D88\u5220\u9664"})})},h=()=>{l.prompt("\u8BF7\u8F93\u5165\u540D\u79F0","\u65B0\u5EFA\u7B14\u8BB0\u672C",{confirmButtonText:"\u521B\u5EFA",cancelButtonText:"\u53D6\u6D88",inputPattern:/^.{1,30}$/,inputValue:"\u65B0\u5EFA\u7B14\u8BB0\u672C",inputErrorMessage:"\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u4E14\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26\uFF01"}).then(({value:t})=>{e.addNotebook(t)}).catch(()=>{a({type:"info",message:"\u53D6\u6D88\u521B\u5EFA"})})};return(t,c)=>{var p;const f=y("router-link");return r(),B("div",L,[u("header",null,[u("a",{href:"javascript:void(0);",onClick:i(h,["prevent"])},[d(n($),{theme:"outline",size:"22",fill:"#a2a2a2",strokeWidth:3}),V],8,P)]),u("main",null,[u("h3",null,"\u7B14\u8BB0\u672C\u5217\u8868("+s((p=n(e).notebooks)==null?void 0:p.length)+")",1),u("div",w,[(r(!0),B(g,null,A(n(e).notebooks,o=>(r(),N(f,{to:`/note?notebookId=${o.id}`,href:"javascript:void(0);",class:"notebook",key:"notebook.id"},{default:b(()=>[u("div",null,[d(n(x),{theme:"filled",size:"24",fill:"#6a6a6a",strokeWidth:3}),u("span",null,s(o.title),1),u("span",null,[u("span",null,s(o.noteCounts),1)]),u("span",null,s(n(_)(o.createdAt)),1),u("span",{onClick:i(D=>m(o),["prevent"])},"\u7F16\u8F91",8,j),u("span",{onClick:i(D=>E(o),["prevent"])},"\u5220\u9664",8,z)])]),_:2},1032,["to"]))),128))])])])}}});export{U as default};
